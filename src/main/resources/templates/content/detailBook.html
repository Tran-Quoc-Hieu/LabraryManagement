<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">
<head>
<title>Book Details</title>
<!-- Read CSS -->
<link rel="stylesheet" th:href="@{/css/content/list.css}">
<script th:src="@{/js/book/detail.js}" defer></script>
</head>
<body>
	<div layout:fragment="content"  th:object="${book}">
		<div class="header border-bottom">
			<h1 class="h2" th:text="*{bookName}"></h1>
		</div>
		<form id="book-detail-form">
			<input type="hidden" th:field="*{bookId}" />
			<input type="hidden" th:field="*{bookName}" />
			<!-- User Details information -->
			<table class="table table-striped table-bordered table-hover">
				<tbody>
					<tr>
						<th>Author</th>
						<td th:text="*{bookAuthor}"></td>
					</tr>
					<tr>
						<th>Type</th>
						<td th:text="*{bookType}"></td>
					</tr>
					<tr>
						<th>Year Publishing</th>
						<td th:text="*{bookYearPublishing}"></td>
					</tr>
					<tr>
						<th>Publishing</th>
						<td th:text="*{bookPublishing}"></td>
					</tr>
				</tbody>
			</table>
			<!-- Button area -->
			<div class="text-center">
				<!-- Delete button -->
				<button id="btn-delete-book" class="btn btn-danger" type="button" name="delete">Delete</button>
				<!-- Update button -->
				<a class="btn btn-primary" th:href="@{'/book/detail/update/'+*{bookId}}">Update</a>
			</div>
		</form>
		<th:block th:if="*{bookBrList != null and bookBrList.size() > 0}">
				<div class="header border-bottom">
					<h1 class="h2">History</h1>
				</div>
				<table class="table table-striped table-bordered table-hover">
					<thead>
						<tr>
							<th class="w-25">Name User</th>
							<th>Ngày mượn</th>
							<th>Ngày Trả</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="item,index: *{bookBrList}">
							<td th:text="${item.reader.readerName}"></td>
							<td th:text="${item.brDateBorrow}"></td>
							<td th:text="${item.brDateReturn}"></td>
							<td class="text-center">
								<a class="btn btn-primary" th:href="@{'/reader/detail/'+${item.brKey.readerId}}">Detail Reader</a>
								<a class="btn btn-primary" th:href="@{'/br/detail/readerId='+${item.brKey.readerId}+'&bookId='+${item.brKey.bookId}}">Detail Card</a>
							</td>
						</tr>
					</tbody>
				</table>
			</th:block>
	</div>
</body>
</html>